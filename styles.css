/* Flaticon icon sets */
@import url('https://cdn-uicons.flaticon.com/3.0.0/uicons-solid-chubby/css/uicons-solid-chubby.css'); /* day (theme) */
@import url('https://cdn-uicons.flaticon.com/3.0.0/uicons-bold-rounded/css/uicons-bold-rounded.css');  /* for Conan/Menu/Close */
@import url('https://cdn-uicons.flaticon.com/3.0.0/uicons-solid-rounded/css/uicons-solid-rounded.css'); /* night + some fixed icons */

/* ========== Base ========== */
*,
*:after,
*:before { box-sizing: border-box; }

:root {
    --bg-color: #ffffff;
    --text-color: #000000;
    --panel-bg: #ffffff;
    --panel-text: #000000;
    --panel-shadow: 0 12px 30px rgba(0, 0, 0, 0.08);
    --panel-border: #999999;

    /* Conan blue gradient */
    --conan-blue-1: #0d47a1;
    --conan-blue-2: #1976d2;
}

body {
    font-family: 'Niramit', sans-serif;
    margin: 0;
    padding: 0;
    background: var(--bg-color);
    color: var(--text-color);
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    overflow-x: hidden;
}

body.dark-mode {
    --bg-color: #0b0d0f;
    --text-color: #e8eaed;
    --panel-bg: #111315;
    --panel-text: #e8eaed;
    --panel-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
    --panel-border: #dddddd;
}

/* Header / Footer */
.header {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 20px;
    background: linear-gradient(to right, red, orange);
    color: white;
    box-sizing: border-box;
    position: relative;
    z-index: 1100;
}
.footer {
    text-align: center;
    padding: 10px 20px;
    background: linear-gradient(to right, red, orange);
    color: white;
    width: 100%;
    box-sizing: border-box;
}

/* Menu */
.menu-toggle { font-size: 24px; cursor: pointer; position: relative; z-index: 1101; background: none; border: none; color: inherit; }
.side-menu { position: fixed; top: 0; left: -200px; width: 200px; height: 100%; background: #333; color: #fff; padding-top: 60px; transition: left 0.3s ease; z-index: 1000; box-shadow: 2px 0 5px rgba(0,0,0,.5); }
.side-menu.open { left: 0; }
.close-menu { position: absolute; top: 10px; right: 15px; font-size: 24px; cursor: pointer; background: none; border: none; color: inherit; }
.side-menu ul { list-style: none; padding: 0; margin: 0; }
.side-menu li { margin: 0; }
.side-menu a { display: block; padding: 10px 20px; color: #fff; text-decoration: none; }
.side-menu a:hover { background: rgba(255,255,255,0.1); }
.menu-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.3); display: none; z-index: 900; }
.menu-overlay.visible { display: block; }

/* Content (default) */
.content {
    text-align: center;
    padding: 20px;
    flex: 1;
    width: 100%;
    max-width: 800px;
    margin: 0 auto;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    align-items: center;
}

h1 { font-size: 32px; text-align: center; margin: 0; }
h2 { font-size: 28px; margin: 0 0 5px 0; }
p  { font-size: 16px; margin: 5px 0; }

.video-container { margin: 10px 0; width: 100%; max-width: 560px; height: 315px; }
.video-container iframe { width: 100%; height: 100%; }

.time-and-countdown {
    width: 100%;
    max-width: 800px;
    padding: 28px 36px;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    text-align: left;
    margin-top: 20px;
    background: var(--panel-bg);
    color: var(--panel-text);
    border: 2px solid var(--panel-border);
    border-radius: 24px;
    box-shadow: var(--panel-shadow);
}
.countdown { font-size: 24px; }

/* Theme toggle */
.toggle-container { position: relative; width: 80px; height: 40px; background: #ddd; border-radius: 20px; display: flex; align-items: center; padding: 5px; cursor: pointer; transition: background .3s; }
.toggle-container .toggle-circle { width: 30px; height: 30px; background: #fff; border-radius: 50%; position: absolute; left: 5px; transition: .3s; display: flex; justify-content: center; align-items: center; font-size: 18px; }
.dark-mode .toggle-container { background: #555; }
.dark-mode .toggle-circle { left: 45px; background: #222; color: #ff0; }
.toggle-container .toggle-circle.light { color: #ff9800; }

/* Responsive */
@media (max-width: 600px) {
    .content { padding: 10px; }
    .time-and-countdown { padding: 10px; max-width: 100%; align-items: flex-start; }
}

/* ===== Root page only ===== */
.root-page .content {
    align-items: flex-start;
    text-align: left;
    max-width: none;
    width: 100%;
    padding-left: 12px;
}
/* Welcome: ใหญ่เท่าหน้า Home และอยู่กลาง */
.root-page h1 {
    font-size: 32px;
    width: 100%;
    text-align: center;
    margin: 0 0 12px 0;
}
/* ลิงก์ Home / DetectiveConan: เล็กกว่า Welcome และเปลี่ยนสีตามโหมด */
.root-page .home-links { list-style: none; padding: 0; margin: 24px 0 0; }
.root-page .home-links li { margin: 12px 0; }
.root-page .home-links a {
    font-size: 1.8rem;
    font-weight: 800;
    text-decoration: none;
    color: var(--text-color);
    display: inline-block;
}
.root-page .home-links a:hover, .root-page .home-links a:focus { text-decoration: underline; outline: none; }

/* ===== Conan page only ===== */

/* หัวยาว ๆ + ปุ่มโหมดอยู่ซ้ายติด 3 ขีด */
.conan-page .header { justify-content: flex-start; gap: 12px; overflow: visible; position: relative; }
.conan-page .header::before {
    content: ""; position: absolute; top: 0; left: 50%; transform: translateX(-50%);
    width: 500vw; height: 100%; background: inherit; z-index: -1;
}

/* กลุ่มหัวเรื่อง (ให้ JS จัดกลางทั้งกลุ่ม) */
.conan-page .title-group{
  display:inline-block;
  transform:translateX(0);
  will-change:transform;
  margin-top:16px;
  text-align:center;
}
.conan-page .page-title-ja{margin:0;}
.conan-page .page-title-en{margin:2px 0 0 0;}
.conan-page .title-spacer{height:10px;}

/* SS selector — ซ้ายสุดของขอบตาราง และไม่ทับเมนู 3 ขีด */
.conan-page .season-picker{
  position:relative;
  width:100%;
  max-width:1200px;
  display:flex;
  justify-content:flex-start;
  margin-top:24px;margin-bottom:12px;
  align-self:stretch;
  transform:translateX(0);
  will-change:transform;
  z-index: 800;   /* ต่ำกว่า overlay(900) และ side-menu(1000) */
}
.conan-page .season-button{
  appearance:none;border:2px solid var(--panel-border);
  background:var(--panel-bg);color:var(--panel-text);
  padding:10px 14px;border-radius:12px;box-shadow:var(--panel-shadow);
  font-weight:700;display:inline-flex;align-items:center;gap:8px;cursor:pointer;
  position: relative;
  z-index: 801;
}
.conan-page .season-menu{
  position:absolute;top:100%;left:0;margin-top:8px;
  background:var(--panel-bg);color:var(--panel-text);
  border:2px solid var(--panel-border);border-radius:12px;box-shadow:var(--panel-shadow);
  list-style:none;padding:6px 0;min-width:220px;
  z-index: 850;
}

/* คอนเทนต์ Conan */
.conan-page .content{max-width:1200px;padding-bottom:100px;align-items:center;}
.conan-page .footer{position:fixed;left:0;right:0;bottom:0;padding-bottom:calc(10px + env(safe-area-inset-bottom));}

/* ตาราง: ใช้ CSS + JS จัดกึ่งกลาง */
.conan-page .table-wrapper{
  width:100%;
  max-width:1200px;
  margin:0 auto 12px auto;
  position: relative;
  z-index: 1;
  display: grid;
  justify-items: center;
}
.conan-page .conan-table{
  width:auto;
  max-width:1000px;
  margin: 0 auto;
  /* อนุญาตให้ JS ใช้ transform ปรับกึ่งกลางได้ */
  border-collapse:separate;border-spacing:0;border:1px solid var(--panel-border);
  border-radius:14px;overflow:hidden;background:var(--panel-bg);color:var(--panel-text);box-shadow:var(--panel-shadow);table-layout:auto;
}

/* หัวตารางสีน้ำเงินไล่สี */
.conan-page .conan-table thead{background:linear-gradient(to right,var(--conan-blue-1),var(--conan-blue-2));}
.conan-page .conan-table thead th{padding:12px 10px;text-align:left;color:#fff;background:transparent;border-right:1px solid rgba(255,255,255,0.25);font-weight:700;vertical-align:middle;}
.conan-page .conan-table thead th:last-child{border-right:none;}
.conan-page .conan-table thead .subhead{font-weight:700;text-align:center;}

/* Cells */
.conan-page .conan-table tbody td{padding:10px;border-top:1px solid var(--panel-border);border-right:1px solid var(--panel-border);vertical-align:top;white-space:normal;overflow-wrap:anywhere;word-break:break-word;}
.conan-page .conan-table tbody td:last-child{border-right:none;}
.conan-page .conan-table tbody tr:nth-child(odd){background:rgba(0,0,0,0.03);}
.dark-mode.conan-page .conan-table tbody tr:nth-child(odd){background:rgba(255,255,255,0.03);}

.conan-page .th-epno{text-align:center;}
.conan-page .chk{display:inline-block;width:18px;height:18px;border-radius:6px;border:2px solid var(--panel-border);vertical-align:middle;}
.conan-page .chk--on{background:linear-gradient(135deg,#16a34a,#22c55e);border-color:#16a34a;position:relative;}
.conan-page .chk--on::after{content:'✓';position:absolute;top:50%;left:50%;transform:translate(-50%,-58%);font-size:14px;font-weight:700;color:#fff;}
/* Icon spacing */
.home-links a i, .side-menu a i { margin-right: 8px; vertical-align: -2px; }